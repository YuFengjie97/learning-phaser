import{P as s}from"./phaser-c68e28a0.js";import{g as i}from"./public-97fb009b.js";import{d as V,r as X,o as P,c as Y,a as D,_ as F}from"./index-fefb0e5f.js";const G=V({__name:"index",setup(R){const u=X();let e,a,t,n,o,c,p=0,m;P(()=>{new s.Game({type:s.AUTO,parent:u.value,width:800,height:600,physics:{default:"arcade",arcade:{gravity:{y:300},debug:!1}},scene:{preload:y,create:g,update:h}})});function y(){e=this,e.load.image("sky",i("02-beginer/sky.png")),e.load.image("ground",i("02-beginer/platform.png")),e.load.image("star",i("02-beginer/star.png")),e.load.image("bomb",i("02-beginer/bomb.png")),e.load.spritesheet("dude",i("02-beginer/dude.png"),{frameWidth:32,frameHeight:48})}function g(){_(),b(),x(),B(),k(),w(),v(),M()}function h(){c.left.isDown?(t.setVelocityX(-160),t.anims.play("left",!0)):c.right.isDown?(t.setVelocityX(160),t.anims.play("right",!0)):(t.setVelocityX(0),t.anims.play("turn")),c.up.isDown&&t.body.touching.down&&t.setVelocityY(-530)}function b(){m=e.add.text(16,16,"score: 0",{fontSize:"32px",color:"#000"})}function _(){e.add.image(400,300,"sky")}function x(){a=e.physics.add.staticGroup(),a.create(400,568,"ground").setScale(2).refreshBody(),a.create(600,400,"ground"),a.create(50,250,"ground"),a.create(750,220,"ground")}function B(){t=e.physics.add.sprite(100,450,"dude"),t.setBounce(.2),t.setCollideWorldBounds(!0),e.anims.create({key:"left",frames:e.anims.generateFrameNumbers("dude",{start:0,end:3}),frameRate:10,repeat:-1}),e.anims.create({key:"turn",frames:[{key:"dude",frame:4}],frameRate:20}),e.anims.create({key:"right",frames:e.anims.generateFrameNumbers("dude",{start:5,end:8}),frameRate:10,repeat:-1}),t.body.setGravityY(300)}function k(){n=e.physics.add.group({key:"star",repeat:11,setXY:{x:12,y:0,stepX:70}}),n.children.iterate(function(r){r.setBounceY(s.Math.FloatBetween(.4,.8))})}function v(){e.physics.add.collider(n,a),e.physics.add.collider(t,a),e.physics.add.overlap(t,n,S,void 0,e)}function w(){o=e.physics.add.group(),e.physics.add.collider(o,a),e.physics.add.collider(t,o,C,void 0,e)}function C(r,d){e.physics.pause(),r.setTint(16711680),r.anims.play("turn")}function S(r,d){if(d.disableBody(!0,!0),p+=10,m.setText("Score: "+p),n.countActive(!0)===0){n.children.iterate(function(f){f.enableBody(!0,f.x,0,!0,!0)});const T=r.x<400?s.Math.Between(400,800):s.Math.Between(0,400),l=o.create(T,16,"bomb");l.setBounce(1),l.setCollideWorldBounds(!0),l.setVelocity(s.Math.Between(-200,200),20)}}function M(){c=e.input.keyboard.createCursorKeys()}return(r,d)=>(D(),Y("div",{class:"viewCon",ref_key:"con",ref:u},null,512))}});const U=F(G,[["__scopeId","data-v-7a62567c"]]);export{U as default};
